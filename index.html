<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Charismatic Connector Clone</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Poppins', sans-serif;
      background-color: #131533;
      color: white;
      text-align: center;
    }
    h1, h2 {
      color: #fbb6ce;
    }
    .section {
      padding: 40px 20px;
    }
    .video, .image {
      max-width: 90%;
      margin: 20px auto;
      display: block;
    }
    .btn {
      display: inline-block;
      background-color: #f72485;
      color: white;
      padding: 12px 20px;
      margin-top: 15px;
      text-decoration: none;
      border: none;
      border-radius: 4px;
      font-weight: bold;
      cursor: pointer;
    }
    .divider {
      border-top: 1px solid #1E4E87;
      width: 30%;
      margin: 30px auto;
    }
   

  </style>
</head>
<body>

  <div class="section">
    <h1>Congrats! Your archetype is:<br>Charismatic Connector</h1>
    <p>Please watch the video below first, then download your special report!</p>
    <img class="video" src="https://placehold.co/600x400" alt="Video Placeholder">
    <a class="btn" href="https://studio.pickaxe.co/STUDIOGRJHDM4MXKI89B5?action=email-login&email=example@gmail.com">Access Your Report</a>
  </div>

  <div class="divider"></div>

  <div class="section">
    <h2>STEP #2<br>Get advice for your archetype</h2>
    <p>Click the button below for additional tips from my AI assistant, Linda!</p>
    <img class="image" src="https://placehold.co/600x400" alt="Archetype Chart">
  
    <!-- Chatbot Embed Centered with Styling -->
    
<div id="deployment-f0ede5af-b199-4697-a100-b838983d1a04"></div>
<script src="https://studio.pickaxe.co/api/embed/bundle.js" defer></script>

<script>
  (() => {
    const ROOT_ID = "deployment-f0ede5af-b199-4697-a100-b838983d1a04";
    const DEBUG = true;

    const log = (...args) => DEBUG && console.log("[pa-enter-send]", ...args);

    const root = document.getElementById(ROOT_ID);
    if (!root) return;

    const isIOS = () =>
      /iPad|iPhone|iPod/.test(navigator.userAgent) ||
      (navigator.platform === "MacIntel" && navigator.maxTouchPoints > 1);

    if (!isIOS()) {
      log("not iOS, exiting");
      return;
    }

    const getTextarea = () => root.querySelector("textarea");
    const getForm = (ta) => ta && ta.closest && ta.closest("form");

    const submitForm = (form) => {
      if (!form) return false;

      try {
        if (typeof form.requestSubmit === "function") {
          form.requestSubmit();
          return true;
        }
      } catch (e) {}

      try {
        const submit = form.querySelector('button[type="submit"], input[type="submit"]');
        if (submit) {
          submit.click();
          return true;
        }
      } catch (e) {}

      try {
        const evt = new Event("submit", { bubbles: true, cancelable: true });
        form.dispatchEvent(evt);
        return true;
      } catch (e) {}

      return false;
    };

    const wire = (ta) => {
      if (!ta || ta.dataset.paEnterSendWired === "1") return;
      ta.dataset.paEnterSendWired = "1";

      try {
        ta.setAttribute("enterkeyhint", "send");
      } catch (e) {}

      log("wired textarea", ta);

      const handleSendAttempt = (reason) => {
        const value = (ta.value || "").trim();
        if (!value) return;

        const form = getForm(ta);
        if (!form) {
          log("no form found for textarea");
          return;
        }

        log("attempt send", reason);

        const ok = submitForm(form);
        if (!ok) log("submit failed");
      };

      ta.addEventListener(
        "keydown",
        (e) => {
          if (e.key !== "Enter") return;
          if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) return;

          e.preventDefault();
          e.stopPropagation();

          handleSendAttempt("keydown-enter");
        },
        true
      );

      ta.addEventListener(
        "beforeinput",
        (e) => {
          const type = e.inputType || "";
          if (type !== "insertLineBreak" && type !== "insertParagraph") return;

          e.preventDefault();
          e.stopPropagation();

          handleSendAttempt("beforeinput-return");
        },
        true
      );

      ta.addEventListener(
        "input",
        () => {
          const v = ta.value || "";
          if (!v.includes("\n")) return;

          ta.value = v.replace(/\n+/g, "");
          handleSendAttempt("input-newline");
        },
        true
      );
    };

    const attach = () => {
      const ta = getTextarea();
      if (ta) wire(ta);
    };

    attach();

    new MutationObserver(() => attach()).observe(root, {
      childList: true,
      subtree: true,
    });
  })();
</script>


<!-- Hide copy and feedback buttons for Pickaxe embed -->
<style id="pa-hide-copy-buttons">
  /* Hide copy and feedback buttons (Pickaxe embed + Studio) */
  button[aria-label*="copy" i],
  button[title*="copy" i],
  .pxe-flex.pxe-h-4.pxe-items-center.pxe-gap-3
    > button.pxe-flex.pxe-items-center.pxe-gap-1.pxe-opacity-70,
  .flex.h-4.items-center.gap-3
    > button.flex.items-center.gap-1.opacity-70,
  [aria-label*="thumb" i],
  [aria-label*="like" i],
  [aria-label*="dislike" i],
  [aria-label*="upvote" i],
  [aria-label*="downvote" i] {
    display: none !important;
    visibility: hidden !important;
    pointer-events: none !important;
  }
</style>

<script>
  (() => {
    if (window.__PA_HIDE_COPY__) return;
    window.__PA_HIDE_COPY__ = true;

    const DEBUG = false; // set to true for console logs

    if (DEBUG) console.log("[pickaxe] hide copy and feedback buttons active");

    function removeButtons() {
      let removed = 0;

      // remove unlabeled icon buttons in action bars
      document
        .querySelectorAll(
          ".pxe-flex.pxe-h-4.pxe-items-center.pxe-gap-3 button, .flex.h-4.items-center.gap-3 button"
        )
        .forEach((btn) => {
          if (
            btn.querySelector("svg") &&
            !btn.getAttribute("aria-label") &&
            !btn.textContent.trim()
          ) {
            btn.remove();
            removed++;
          }
        });

      // remove feedback buttons
      document
        .querySelectorAll(
          "[aria-label*='thumb' i], [aria-label*='like' i], [aria-label*='dislike' i], [aria-label*='upvote' i], [aria-label*='downvote' i]"
        )
        .forEach((btn) => {
          btn.remove();
          removed++;
        });

      if (DEBUG && removed > 0) {
        console.log(`[pickaxe] removed ${removed} button(s)`);
      }
    }

    // run immediately and watch for DOM changes
    removeButtons();
    new MutationObserver(removeButtons).observe(document.body, {
      childList: true,
      subtree: true,
    });
  })();
</script>


    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // Grab email from URL
        const urlParams = new URLSearchParams(window.location.search);
        const userEmail = urlParams.get("email") || "unknown@example.com";
    
        // Listen for Pickaxe submission events
        window.addEventListener("pickaxe:response", (event) => {
          const responseData = event.detail;
          console.log("Captured Pickaxe response:", responseData);
    
          // Combine email + submission data
          const payload = {
            email: userEmail,
            pickaxeData: responseData
          };
    
          console.log("Combined Payload to Send:", payload);
    
          // Send to your endpoint (example using fetch)
          // fetch("https://your-api-endpoint.com/receive", {
          //   method: "POST",
          //   headers: { "Content-Type": "application/json" },
          //   body: JSON.stringify(payload)
          // })
          // .then(res => res.json())
          // .then(data => console.log("Successfully sent:", data))
          // .catch(err => console.error("Error sending data:", err));
        });
      });
  </script>
  </div>
  
  

  <div class="divider"></div>

  <div class="section">
    <h2>STEP #3<br>Register for our next webinar!</h2>
    <p>Sign up for my next LIVE event. Let's talk about your archetype and how it can make you $$$</p>
    <img class="image" src="https://placehold.co/600x400" alt="Webinar Promo">
    <a class="btn" href="#">Grab Your Seat</a>
  </div>

</body>
</html>
